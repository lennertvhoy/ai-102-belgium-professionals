# Project Plan: AI-102 Interactive Learning Platform

## 1. Executive Summary

This document outlines the strategic project to transform the "AI-102 for the Belgian Professional" curriculum from a static set of Markdown files into a secure, scalable, and interactive web application.

The project is built on a "Docs-as-Code" philosophy, where all content, application code, and infrastructure are managed as a unified, version-controlled system. We will follow a phased implementation that prioritizes delivering a Minimum Viable Product (MVP) quickly, then iteratively adding advanced features.

This plan incorporates recommendations from a formal architectural review to ensure the final platform is not just a prototype, but a production-ready, global platform adhering to best practices in security, testing, and operations.

## 2. Core Architectural Blueprint

- **Content Engine (Frontend):** **Docusaurus** (React/MDX) for embedding interactive components within Markdown.
- **Hosting Platform (Cloud):** **Azure Static Web Apps (SWA)** for globally distributed content and **Azure Functions** for serverless APIs.
- **Infrastructure as Code (Provisioning):** **Terraform** for declarative, repeatable, and version-controlled cloud infrastructure.
- **Automation Core (CI/CD):** **GitHub Actions** for orchestrating the entire build, test, and deployment pipeline.

## 3. Cross-Cutting Imperatives

These principles will be applied across all phases of development.

### 3.1. Multi-Layered Automated Testing Framework

To ensure quality and enable confident deployments, a "testing pyramid" strategy will be implemented:

- **Unit Tests (Base):** Using **Jest** and **React Testing Library** to test individual React components and utility functions in isolation.
- **Integration Tests (Middle):** To validate interactions between components, such as the Azure Function API and its database connection, using local emulators.
- **End-to-End (E2E) Tests (Top):** Using **Playwright** to simulate complete user workflows in a real browser against live staging environments.

### 3.2. Platform Observability and Monitoring

A production platform requires deep visibility.

- **Implementation:** **Application Insights** will be provisioned via Terraform and linked to the Azure Static Web App.
- **Monitoring:** We will track client-side performance (page loads, JS errors), server-side API health (request rate, latency, failures), and create funnels to analyze user navigation patterns.
- **Alerting:** Proactive alerts will be configured for critical events, such as a spike in server errors or API latency, to enable rapid response.

## 4. The Phased Implementation Plan

---

### **Phase 1: The Static Foundation (MVP)**

**Goal:** Deploy a non-interactive, static version of the course to a live URL, built on a production-grade, automated foundation.

**Tasks:**

1.  **Project Scaffolding:**
    - Initialize a Docusaurus project using `npx create-docusaurus@latest classic`.
    - Configure `docusaurus.config.js` with course metadata.

2.  **Content & Navigation Strategy:**
    - Migrate all course content into the `docs/` directory.
    - **Implement Autogenerated Sidebars:** Organize content logically in subdirectories. Use `sidebar_position` front matter in the `.mdx` files to control ordering. This replaces the manual `sidebars.js` approach, improving maintainability.

3.  **Production-Grade Infrastructure (Terraform):**
    - **Implement Remote State:** Configure Terraform to use a remote backend with an Azure Storage Account to securely store and lock the `tfstate` file.
    - **Structure Variables:** Use a `.tfvars` file for environment-specific variables (e.g., `app_name`) and ensure it is added to `.gitignore`.
    - **Provision Resources:** Define and provision `azurerm_resource_group` and `azurerm_static_web_app` (SKU: `Free`).
    - **Enhance Portal Integration:** Add appropriate `tags` to all resources for cost tracking and operational visibility.

4.  **Robust CI/CD Pipeline (GitHub Actions):**
    - Create a `.github/workflows/deploy.yml` workflow triggered on push to `main`.
    - **Enforce Deterministic Builds:** Use `npm ci` instead of `npm install` for dependency installation.
    - **Implement Dependency Caching:** Cache the `node_modules` directory to accelerate pipeline execution.
    - **Add Quality Gate:** Integrate a static code analysis (linting) step with ESLint to catch errors early.
    - **Deploy:** Use the `Azure/static-web-apps-deploy@v1` action to deploy the `build/` output. The deployment token will be stored as a GitHub Secret.

**State at End of Phase:** A fully automated, live, read-only version of the course website, built with production-ready CI/CD and IaC practices.

---

### **Phase 2: Interactivity & Security**

**Goal:** Transform the site into a dynamic application with secure, interactive quizzes and automated preview environments.

**Tasks:**

1.  **Infrastructure Upgrade (Terraform):**
    - Evolve the Terraform configuration to the "Bring Your Own Functions" (BYOF) model.
    - Upgrade the `azurerm_static_web_app` SKU to `"Standard"`.
    - **Provision Backend Resources:** Add `azurerm_storage_account`, `azurerm_service_plan`, and `azurerm_linux_function_app`.
    - **Provision Database:** Add `azurerm_storage_table` (Azure Table Storage) to act as a cost-effective, scalable database for quiz data.
    - **Link Components:** Add the `azurerm_static_web_app_function_app_registration` resource.

2.  **Implement Authentication & Authorization:**
    - **Configure Identity Provider:** Set up an **Azure Active Directory B2C** tenant with user flows for sign-up and sign-in.
    - **Secure Application:** Use `staticwebapp.config.json` to define routing rules that protect the `/api/*` path and any user-specific pages, requiring authentication.
    - **Secure API:** The Azure Function backend will be configured to automatically validate the user's JWT. The user's ID will be extracted from the token to associate quiz submissions with the correct individual.

3.  **Backend API Development:**
    - Create a Node.js Azure Function in the `api/` directory to handle quiz submissions.
    - The function will validate answers and write results (associated with the authenticated user's ID) to the Azure Table Storage database.

4.  **Accessible Frontend Component Development:**
    - Develop the `src/components/Quiz.js` React component.
    - **Ensure Accessibility (WAI-ARIA):** The component will be built with accessibility as a primary requirement, using semantic HTML (`<form>`, `<fieldset>`, `<label>`), ensuring full keyboard navigability, and using ARIA attributes for screen reader context.

5.  **Enhance CI/CD with E2E Testing:**
    - **Develop E2E Tests:** Create an initial suite of Playwright tests for critical user journeys (e.g., login, navigate to quiz, submit quiz).
    - **Automate Staging Validation:** Enhance the CI/CD pipeline to automatically run these Playwright tests against the temporary staging environment created for each Pull Request. This provides a robust, automated quality gate before merging to `main`.

**State at End of Phase:** A fully interactive course website with a secure, serverless backend, user authentication, and automated preview environments validated by E2E tests.

---

### **Phase 3: Automated Asset Generation**

**Goal:** Enrich the learning experience by automatically generating supplementary assets (slides, diagrams) from the Markdown source.

**Tasks:**

1.  **Diagram Integration:**
    - Integrate the `@docusaurus/theme-mermaid` package to automatically render text-based diagrams into SVGs within course content.

2.  **Slide Generation:**
    - **Manage Dependency Correctly:** Add `@marp-team/marp-cli` to the `devDependencies` in `package.json`. This avoids unstable global installations in the pipeline.
    - **Update CI/CD:** Add a step to the CI/CD workflow that executes the Marp CLI via an `npm script` (e.g., `npm run build:slides`). The script will convert Markdown files from a `/slides` directory into PDF/HTML and place them in the `build/` output directory for deployment.

**State at End of Phase:** A comprehensive learning platform where all primary and supplementary content is generated and deployed automatically from a single, version-controlled source of truth.

---

## 5. Post-Launch Roadmap

Upon completion of the three-phase plan, the following advanced features will be considered to further enhance the platform's pedagogical value:

- **User Progress Tracking:** Develop a personalized dashboard to visualize learner progress, including completed modules and quiz scores.
- **Gamification:** Boost engagement by introducing badges, points, and leaderboards.
- **Social Learning:** Foster a community of practice by integrating module-specific discussion forums or Q&A sections.
